<div class="table-shell"
     [class.scroll]="options()!.scrollable"
     [style.height]="options()!.height">

  <table class="data-table">
    <colgroup>
      @for (column of options()!.columns; track $index) {
      <col [style.width.px]="column.width">
      }
    </colgroup>

    <thead>
      <tr>
        @for (column of options()!.columns; track $index) {
        <th [style]="column.titleStyle" [class]="column.titleClass">
          {{ column.title }}
        </th>
        }
      </tr>
    </thead>

    <tbody>
      @if (isPagedResponse) {
      @for (item of data.items; let i = $index; track i) {
      <tr [class.odd-row]="i % 2 !== 0">
        @for (column of options()!.columns; track $index) {
        <td [style]="column.style" [class]="column.class">
          @if (column.template) {
          <ng-container [ngTemplateOutlet]="column.template"
                        [ngTemplateOutletContext]="{ $implicit: item, column: column }">
          </ng-container>
          } @else {
          {{ item[column!.field!] }}
          }
        </td>
        }
      </tr>
      }
      } @else {
      @for (item of data; let i = $index; track i) {
      <tr [class.odd-row]="i % 2 !== 0">
        @for (column of options()!.columns; track $index) {
        <td [style]="column.style" [class]="column.class">
          @if (column.template) {
          <ng-container [ngTemplateOutlet]="column.template"
                        [ngTemplateOutletContext]="{ $implicit: item, column: column }">
          </ng-container>
          } @else {
          {{ item[column!.field!] }}
          }
        </td>
        }
      </tr>
      }
      }
    </tbody>
  </table>
</div>

@if (isPagedResponse)
{
<div>
  <span class="float-end small lightgray">Total items {{ data.totalCount }}</span>
</div>
}
